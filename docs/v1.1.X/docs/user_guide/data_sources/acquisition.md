# Introduction

Data sources, are in charge of dictating to `{{v11X.crowdsec.name}}` which source should be read.

Data sources are configured via  `{{v11X.config.acquis_path}}` or via the directory specified in [`acquisition_dir`](/Crowdsec/v11/references/crowdsec-config/#acquisition_dir).

!!! info 

    Please note that the `{{v11X.config.acquis_path}}` should be auto generated by the {{v11X.wizard.name}} in most case.

## Acquisition configuration

The acquisition configuration specifies lists of logs sources that {{v11X.crowdsec.name}} will ingest and feed to parsers.
Acquisition provides at least two information about a given log :

 - a source (a path to a file, a journalctl filter, a cloudwatch group/stream etc.)
 - a `type`, given in the form of a label

Extra parameters are as well supported :

 - a `name` that will ease tracking and logs readability
 - a `log_level` to individually configure the log level of a given source

The `type` label is crucial as it's later used in the process to determine which parser(s) can handle lines coming from this source.

Acquisition can be found in `{{v11X.config.acquis_path}}`, for example :
<details>
  <summary>Acquisition example</summary>
```yaml
source: file
log_level: debug
filenames:
  - /var/log/nginx/access-*.log
  - /var/log/nginx/error.log
labels:
  type: nginx
---
source: journalctl
journalctl_filter:
 - "_SYSTEMD_UNIT=ssh.service"
labels:
  type: syslog
---
source: cloudwatch
group_name: /aws/group/name
aws_profile: production
labels:
  type: syslog
```
</details>

## Testing and viewing acquisition

### At startup

At startup, you will see the monitored files in `/var/log/crowdsec.log` :

```
...
INFO[23-11-2020 15:21:17] [file datasource] opening file '/tmp/test.log' 
WARN[23-11-2020 15:21:17] [file datasource] no results for /tmp/ratata.log 
INFO[23-11-2020 15:21:17] [journald datasource] Configured with filters : [--follow _SYSTEMD_UNIT=ssh.service] 
...
```

### At runtime

{{v11X.cli.name}} allows you to view {{v11X.crowdsec.name}} metrics info via the `metrics` command.
This allows you to see how many lines are coming from each source, and if they are parsed correctly.

You can see those metrics with the following command:
```
sudo {{v11X.cli.bin}} metrics
```


<details>
  <summary>{{v11X.cli.name}} metrics example</summary>

```bash
$ sudo {{v11X.cli.bin}} metrics
...
...
INFO[0000] Acquisition Metrics:     
+--------------------------------------+------------+--------------+----------------+------------------------+
|                SOURCE                | LINES READ | LINES PARSED | LINES UNPARSED | LINES POURED TO BUCKET |
+--------------------------------------+------------+--------------+----------------+------------------------+
| /tmp/test.log                        |         10 |           10 | -              |                     11 |
| journalctl-_SYSTEMD_UNIT=ssh.service |         36 |           12 |             24 |                     17 |
+--------------------------------------+------------+--------------+----------------+------------------------+
...
...
```

</details>


!!! info

    All these metrics are actually coming from {{v11X.crowdsec.name}}'s prometheus agent. See [prometheus](/Crowdsec/v11/observability/prometheus/) directly for more insights.


## Reference documentation

[Link to acquisition reference documentation](/Crowdsec/v11/references/acquisition/)
